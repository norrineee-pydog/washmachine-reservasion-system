# 微信小程序版《上大洗衣侠》项目需求文档

## 1. 项目概述

### 1.1 项目背景
上海大学宿舍楼共用洗衣机资源紧张，学生面临排队难、状态不透明、忘记取衣等问题。基于微信生态开发小程序版本，提供更便捷的洗衣机预约管理服务。

### 1.2 项目愿景
打造校园生活服务标杆产品，通过技术手段优化公共资源使用效率，提升学生生活质量。

## 2. 用户角色与画像

### 2.1 主要用户
**学生用户**
- 核心需求：便捷预约、状态透明、及时提醒
- 使用场景：宿舍内、洗衣房附近、课前课后碎片时间
- 设备偏好：智能手机 + 微信小程序

### 2.2 管理用户
**宿管管理员**
- 核心需求：设备管理、数据监控、故障处理
- 使用场景：办公室日常巡检、应急处理

**系统管理员**
- 核心需求：系统维护、数据分析、权限管理

## 3. 功能需求详述

### 3.1 用户系统模块
#### 3.1.1 微信授权登录
- 微信一键登录，免去注册流程
- 自动获取微信头像、昵称信息
- 首次使用需补充学号、楼栋、房间号信息

#### 3.1.2 用户信息管理
- 个人资料查看与编辑
- 使用记录统计
- 诚信积分展示

### 3.2 核心业务模块

#### 3.2.1 智能楼栋识别
- 基于位置信息自动识别所在楼栋
- 手动切换楼栋功能
- 收藏常用楼栋功能

#### 3.2.2 实时状态展示
**可视化状态界面**
- 地图模式：楼层平面图展示洗衣机分布
- 列表模式：分类筛选查看
- 状态颜色编码：
  - 🟢 空闲：立即可用
  - 🟡 预约中：已被预约
  - 🔴 工作中：正在运行
  - ⚪ 故障：暂停使用
  - 🔵 待取衣：洗衣完成等待取衣

**状态详情**
- 剩余时间精确显示
- 当前使用者匿名信息
- 预计可用时间计算

#### 3.2.3 智能预约系统
**预约规则**
- 立即预约：选择当前空闲洗衣机
- 时段预约：预约未来2小时内时段
- 预约保护：15分钟预留窗口
- 冲突检测：防止重复预约

**预约流程**
1. 选择目标洗衣机
2. 确认预约时段
3. 生成预约凭证
4. 开始倒计时提醒

### 3.3 消息提醒系统

#### 3.3.1 微信模板消息
- 预约成功通知
- 设备就绪提醒（前序用户完成）
- 开始洗衣提醒
- 即将完成提醒（结束前10分钟）
- 超时占用警告

#### 3.3.2 小程序内消息
- 实时状态变更推送
- 系统公告通知
- 活动推广信息

### 3.4 信用管理体系

#### 3.4.1 积分规则
- 初始积分：100分
- 按时使用：+2分/次
- 提前取消：不扣分
- 预约超时：-5分（15分钟未到）
- 占用超时：-10分（30分钟未取）
- 恶意行为：-20分/次

#### 3.4.2 等级特权
**VIP等级划分**
- 青铜（0-79分）：基础功能
- 白银（80-89分）：提前预约特权
- 黄金（90-95分）：专属时段预约
- 钻石（96-100分）：绿色通道权限

### 3.5 智能推荐系统

#### 3.5.1 忙闲预测
- 历史数据分析
- 学期周期模式识别
- 天气因素影响分析
- 实时排队预测

#### 3.5.2 个性化推荐
- 最优洗衣时段建议
- 空闲设备智能推荐
- 使用习惯学习优化

### 3.6 社交互动功能

#### 3.6.1 互助功能
- 代取衣求助系统
- 紧急转让预约
- 洗衣技巧分享

#### 3.6.2 评价系统
- 设备使用评价
- 卫生状况反馈
- 使用建议收集

### 3.7 管理后台功能

#### 3.7.1 设备管理
- 洗衣机信息维护
- 状态监控面板
- 故障报修处理
- 维护记录管理

#### 3.7.2 数据统计
- 使用率统计分析
- 高峰时段识别
- 用户行为分析
- 设备效能评估

## 4. 技术架构设计

### 4.1 前端技术栈
- 微信小程序原生框架
- WeUI组件库定制
- 腾讯地图SDK集成
- 微信云开发能力

### 4.2 后端技术栈
- Spring Boot 2.x
- MySQL 8.0 + Redis
- WebSocket实时通信
- 微信支付接口（预留）

### 4.3 第三方服务
- 微信开放平台
- 腾讯位置服务
- 消息推送服务
- 数据统计服务

## 5. 非功能性需求

### 5.1 性能要求
- 页面加载：< 1.5秒
- 状态更新：实时推送
- 并发支持：1000+用户同时在线

### 5.2 安全要求
- 数据传输加密
- 用户隐私保护
- 防刷单机制
- 数据备份恢复

### 5.3 用户体验
- 操作流程简化
- 界面美观易用
- 错误提示友好
- 无障碍访问支持

## 6. 项目里程碑

### Phase 1：基础版本（4周）
- 用户系统 + 状态展示 + 基础预约

### Phase 2：完整版本（3周）
- 消息提醒 + 信用体系 + 管理后台

### Phase 3：智能版本（3周）
- 推荐系统 + 数据分析 + 社交功能

### Phase 4：优化版本（2周）
- 性能优化 + 用户体验提升

## 7. 运营推广计划

### 7.1 上线初期
- 宿舍楼试点运行
- 邀请码机制控制用户增长
- 早期用户反馈收集

### 7.2 成长阶段
- 全校范围推广
- 新生入学季重点推广
- 用户推荐奖励机制

### 7.3 成熟阶段
- 功能持续迭代
- 用户满意度调研
- 商业化模式探索

## 8. 风险控制

### 8.1 技术风险
- 高并发场景测试
- 第三方服务依赖
- 数据安全保护

### 8.2 运营风险
- 用户接受度
- 设备维护协调
- 突发事件应对

---

**文档版本**: v1.0  
**创建日期**: 2024年1月  
**适用对象**: 产品经理、开发团队、测试团队、运营团队